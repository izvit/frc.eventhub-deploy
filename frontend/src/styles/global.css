:root{
  --bg: #f7f8fb;
  --text: #0f172a;
  --muted: #6b7280;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:var(--bg);
  color:var(--text);
}

.app-root{display:flex;flex-direction:column;min-height:100vh}

.app-header{display:flex;align-items:center;justify-content:space-between;background:#1f2937;color:#ffffff;padding:16px;border-bottom:1px solid rgba(255,255,255,0.06)}

/* Make header title slightly smaller for compact layout */
.app-header h1{font-size:1.125rem;margin:0;font-weight:600}

/* Header left area (logo + title) */
.header-left{display:flex;align-items:center;gap:12px}

/* Brand logo in header */
.brand-logo{width:40px;height:40px;object-fit:cover;border-radius:6px}

/* Link wrapper for brand logo */
.brand-link{display:inline-flex;align-items:center;text-decoration:none;color:inherit}
.brand-link:focus-visible{outline:2px solid rgba(255,255,255,0.8);outline-offset:2px;border-radius:6px}

/* header-right layout for multiple action buttons */
.header-right{display:flex;align-items:center;gap:8px}

/* Modal styles */
.modal-overlay{position:fixed;inset:0;background:rgba(2,6,23,0.5);display:flex;align-items:center;justify-content:center;z-index:60;padding:16px}
.modal-panel{width:100%;max-width:900px;max-height:90vh;background:#fff;border-radius:10px;box-shadow:0 12px 40px rgba(2,6,23,0.4);overflow:hidden;display:flex;flex-direction:column}
.modal-header{padding:16px 20px;border-bottom:1px solid #eef2f7}
.modal-header h3{margin:0}
.modal-body{padding:12px 16px;display:flex;flex-direction:column;gap:12px;overflow:auto}
.modal-field{display:flex;flex-direction:column}
.modal-label{font-size:0.85rem;color:var(--muted);margin-bottom:6px}
.modal-field input,.modal-field textarea,.modal-field select{padding:8px 10px;border:1px solid #e6eef7;border-radius:8px;font-size:0.95rem;width:100%;background:#f0f2f5}
.modal-field input:focus,.modal-field textarea:focus,.modal-field select:focus{background:#fff;outline:2px solid rgba(37,99,235,0.15);border-color:#2563eb}
.modal-row{display:flex;gap:12px}
.modal-row .modal-field{flex:1}
.modal-footer{display:flex;justify-content:flex-end;gap:8px;padding:12px 16px;border-top:1px solid #eef2f7}
.btn{background:transparent;border:1px solid rgba(15,23,42,0.08);padding:8px 12px;border-radius:8px;cursor:pointer}
.btn[disabled]{opacity:0.5;cursor:not-allowed}
.btn-primary{background:#2563eb;color:#fff;border-color:transparent}



/* Events list and cards */
.events-section h3{margin-top:0}
.event-list{display:flex;flex-direction:column;gap:12px;margin-top:12px}

/* Card with left type stripe */
.event-card{display:flex;align-items:stretch;background:#fff;padding:0;border-radius:10px;box-shadow:0 4px 8px rgba(15,23,42,0.06);border:1px solid #eef2f7;overflow:hidden}

/* allow absolute positioned icons relative to the card */
.event-card{position:relative}

.type-stripe{width:0;flex:0 0 0;display:none}


.event-card-content{display:flex;flex-direction:column;padding:0;flex:1;gap:12px}
/* inner layout: date column + content */
.event-inner{display:flex;gap:12px;align-items:stretch}
.date-column{width:clamp(72px, 8vw, 140px);min-width:72px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px}
.date-day{font-size:1rem;font-weight:700;color:#000;line-height:1}
.date-month-day{font-size:0.85rem;color:#000;margin-top:6px}
.content-column{flex:1;display:flex;flex-direction:column;gap:12px;padding-left:16px}
.event-top{display:flex;align-items:center;justify-content:space-between;gap:12px}
.event-card-left{flex:1;min-width:0}
.event-card-left h4{margin:8px 0 6px 0;font-size:1rem}
.event-time-prefix{color:var(--muted);font-weight:400;font-size:0.9rem;margin-right:12px}
.event-meta{font-size:0.9rem;color:var(--muted)}

/* Type badge on top */
.event-type-badge{display:inline-flex;align-items:center;margin-top:0;padding:6px 10px;border-radius:999px;background:rgba(15,23,42,0.06);color:var(--muted);font-size:0.9rem;font-weight:600}

/* Inline location shown next to the type badge as a matching pill */
.event-location-inline{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;background:rgba(15,23,42,0.03);color:var(--muted);font-size:0.9rem;font-weight:500}

/* Small attendee summary shown between type and location */
.event-attendee-summary{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:rgba(15,23,42,0.03);color:var(--muted);font-size:0.9rem;font-weight:600}
.event-attendee-summary svg{width:16px;height:16px;display:block}
.event-attendee-summary .attendee-count{font-weight:600}

/* Footer containing metadata and controls */
.event-footer{display:flex;align-items:center;justify-content:space-between;gap:12px;border-top:1px solid #f1f5f9;padding-top:12px}
.footer-left{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:0.95rem;flex-wrap:wrap}
.footer-right{display:flex;align-items:center;gap:12px}

/* Slightly reduce the prominence of attendance buttons in footer */
.attendance-btn{border:1px solid rgba(15,23,42,0.06);background:transparent;padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:600;color:var(--muted);min-width:48px}
.attendance-btn.skeleton{background:linear-gradient(90deg,rgba(15,23,42,0.03),rgba(15,23,42,0.01));color:rgba(15,23,42,0.5)}

/* small attendance icon buttons in top-right */
.attendance-icons{position:absolute;top:12px;right:12px;display:flex;gap:8px;z-index:10}
.attendance-icon-btn{width:28px;height:28px;border-radius:6px;border:none;background:rgba(2,6,23,0.04);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;color:var(--muted);transition:all 0.15s ease}
.attendance-icon-btn:hover{background:rgba(2,6,23,0.06);opacity:0.95}
.attendance-icon-btn:disabled{opacity:0.4;cursor:not-allowed}
.attendance-icon-btn svg{display:block;width:12px;height:12px}

/* Colored variants for RSVP icons */
.attendance-yes{ color:#16a34a } /* green */
.attendance-maybe{ color:#111827 } /* near-black */
.attendance-no{ color:#ef4444 } /* red */

/* Edit button for admin users */
.edit-btn{ color:#2563eb } /* blue */

/* Active state for selected response */
.attendance-icon-btn.active{background:currentColor;border:2px solid currentColor}
.attendance-icon-btn.active svg{stroke:#fff}
.attendance-icon-btn.active svg path{stroke:#fff}

.attendance-icon-btn:focus-visible{outline:2px solid rgba(37,99,235,0.15);outline-offset:2px}

.event-card-right{margin-left:16px;display:flex;align-items:center}
.attendance-buttons{display:flex;gap:8px}
.attendance-btn{border:1px solid rgba(15,23,42,0.08);background:transparent;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:600;color:var(--muted);min-width:56px}
.attendance-btn:hover{opacity:0.95}

/* Skeleton look: low-contrast, subtle background */
.attendance-btn.skeleton{background:linear-gradient(90deg,rgba(15,23,42,0.04),rgba(15,23,42,0.02));color:rgba(15,23,42,0.4)}

@media (max-width:900px){
  /* medium screens: allow date column to be a bit smaller */
  .date-column{width:clamp(64px, 10vw, 110px)}
}

@media (max-width:600px){
  /* mobile: stack the date above content and use fluid layout */
  .event-card{flex-direction:column;align-items:stretch;padding:0;margin-bottom:8px}
  .event-card-content{flex-direction:column;align-items:stretch;padding:0}
  .event-inner{flex-direction:column;gap:0}
  .date-column{width:100%;flex-direction:row;align-items:center;justify-content:flex-start;padding:6px 8px;border-radius:10px 10px 0 0}
  .date-day{font-size:0.9rem;font-weight:700}
  .date-month-day{font-size:0.85rem;margin-left:8px;margin-top:0}
  .content-column{padding-left:8px;padding-right:8px;padding-top:6px;gap:8px}
  .event-card-left h4{margin:4px 0 4px 0;font-size:0.95rem}
  .event-card-right{margin-left:0;margin-top:8px;display:flex;justify-content:flex-end}
  .event-footer{flex-direction:column;align-items:stretch;gap:6px;padding-top:8px;padding-bottom:8px}
  .footer-right{justify-content:flex-end}
  .event-list{gap:8px}
  .attendance-icons{top:8px;right:8px;gap:6px}
  .event-details.open{padding:8px}
}

@media (max-width:700px){
  .modal-panel{max-width:100%;border-radius:8px}
  .modal-body{padding:12px}
  .modal-row{flex-direction:column}
}

@media (max-width:420px){
  /* On very small screens, make modal nearly full-screen */
  .modal-panel{height:100%;max-height:100%;border-radius:0}
  .modal-header{padding:12px}
  .modal-footer{padding:10px}
}

/* Expand button */
.expand-btn{display:inline-flex;align-items:center;justify-content:center;border:none;background:transparent;padding:8px;border-radius:6px;cursor:pointer;color:var(--muted);margin-left:8px}
.expand-btn svg{transition:transform 0.18s ease}
.expand-btn.open svg{transform:rotate(180deg)}

/* Details area */
.event-details{max-height:0;overflow:hidden;transition:max-height 0.2s ease;padding:0 16px}
.event-details.open{max-height:400px;padding:12px 16px 16px;background:#fafafa;border-top:1px solid #f1f5f9}

.attendee-table{width:100%;border-collapse:collapse}
.attendee-table td{padding:8px 12px;border-bottom:1px solid rgba(15,23,42,0.03);font-size:0.95rem}
.attendee-table tr:last-child td{border-bottom: none}

/* Attendee grid layout for multi-column fluid display */
.attendee-grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));gap:8px;margin-top:8px}
.attendee-item{display:flex;align-items:center;gap:8px;padding:6px 10px;background:rgba(15,23,42,0.02);border-radius:6px;font-size:0.9rem}
.attendee-icon{font-weight:700;font-size:1rem;flex-shrink:0}
.attendee-name{color:var(--text);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

@media (max-width:600px){
  .attendee-grid{grid-template-columns:repeat(auto-fill, minmax(140px, 1fr));gap:6px}
  .attendee-item{padding:5px 8px;font-size:0.85rem}
}

/* Description inside expanded details */
.event-details .event-desc{margin:0 0 10px 0;color:var(--muted);font-size:0.95rem}

/* Markdown preview and rendered markdown styling */
.markdown-preview{font-size:0.95rem}
.markdown-preview p,.event-desc p{margin:0 0 8px 0;color:var(--text)}
.markdown-preview code,.event-desc code{background:rgba(15,23,42,0.04);padding:2px 6px;border-radius:6px;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Courier New', monospace}
.markdown-preview pre,.event-desc pre{background:#0f172a10;padding:8px;border-radius:8px;overflow:auto}
.markdown-preview a,.event-desc a{color:#2563eb}

/* Edit / Preview toggle for markdown editor */
.md-toggle{display:inline-flex;border:1px solid #e6eef7;border-radius:8px;overflow:hidden;margin:6px 0 8px}
.md-btn{background:transparent;border:0;padding:6px 10px;font-size:0.9rem;cursor:pointer;color:var(--muted)}
.md-btn.active{background:#2563eb;color:#fff}
.md-btn:focus{outline:2px solid rgba(37,99,235,0.2);outline-offset:2px}
.app-main{flex:1;padding:24px;max-width:100%;width:100%;margin:0 auto}
.app-footer{padding:12px;text-align:center;color:var(--muted);font-size:0.9rem}
.hello{background:#fff;padding:12px;border-radius:8px;border:1px solid #eef2f7}

/* Home page header with action */
.home-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}

/* Events controls container below title */
.events-controls{display:flex;align-items:center;gap:12px;margin-bottom:16px;flex-wrap:wrap}
.events-controls .search-input{flex:1;min-width:200px}
.group-by-control{display:flex;align-items:center;gap:8px;white-space:nowrap}
.group-by-control label{font-size:0.9rem;color:var(--muted);margin:0}
.group-by-control select{padding:8px 10px;border:1px solid #e6eef7;border-radius:8px;font-size:0.95rem;background:#fff;cursor:pointer}
.group-by-control select:focus{outline:2px solid rgba(37,99,235,0.15)}

.group-label{margin:8px 0 6px 0;font-size:0.95rem;color:var(--muted);font-weight:600}
.event-section-group{display:flex;flex-direction:column;gap:8px}

/* Group header with toggle */
.group-header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 4px}
.group-toggle{display:inline-flex;align-items:center;justify-content:center;width:34px;height:34px;border-radius:8px;border:none;background:transparent;color:var(--muted);cursor:pointer}
.group-toggle svg{transition:transform 0.18s ease}
.group-header.collapsed .group-toggle svg{transform:rotate(-90deg)}
.group-header .group-label{margin:0;font-size:0.95rem;color:var(--muted);font-weight:600}

/* Search input in header */
.search-input{padding:8px 10px;border:1px solid #e6eef7;border-radius:8px;width:220px;font-size:0.95rem}
.search-input:focus{outline:2px solid rgba(37,99,235,0.15)}

/* Icon button (unconnected) */
.icon-button{display:inline-flex;align-items:center;justify-content:center;background:var(--text);color:var(--bg);border:none;padding:8px;border-radius:8px;cursor:pointer;width:40px;height:40px}
.icon-button:hover{opacity:0.9}
.icon-button:active{transform:scale(0.98)}
.icon-button svg{display:block}

/* Header-specific button sizing */
.app-header .icon-button{width:36px;height:36px;border-radius:6px}

/* User indicator bar below header */
.user-indicator{background:#f7f8fb;border-bottom:1px solid #e6eef7;padding:8px 16px;display:flex;justify-content:flex-end;align-items:center;gap:8px}
.user-indicator-label{font-size:0.85rem;color:var(--muted);font-weight:500}
.user-indicator-name{font-size:0.85rem;color:var(--text);font-weight:600}
